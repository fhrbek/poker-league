CREATE TABLE PL_DATASTRUCTUREVERSION (ID INTEGER NOT NULL, CURRENTVERSION VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE PL_DATAVERSION (ID INTEGER NOT NULL, CURRENTVERSION TIMESTAMP, PRIMARY KEY (ID))
CREATE TABLE PL_SETTINGS (ID INTEGER NOT NULL, ADMINPASSWORD VARCHAR(255), DEFAULTTIMEZONE VARCHAR(255), SMTPFROM VARCHAR(255), SMTPHOST VARCHAR(255), SMTPPASSWORD VARCHAR(255), SMTPPORT VARCHAR(255), SMTPUSER VARCHAR(255), URLBASE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYRULESET (ID INTEGER NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), OBSOLETE BOOLEAN, PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYRULE (ID INTEGER NOT NULL, NUMBEROFPLAYERS INTEGER, OBSOLETE BOOLEAN, PRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYFORMULA (ID INTEGER NOT NULL, OBSOLETE BOOLEAN, RANK INTEGER, RELATIVEPRIZEMONEY INTEGER, PRIZEMONEYRULE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PLAYER (ID INTEGER NOT NULL, ACTIVE BOOLEAN, EMAILADDRESS VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), NICK VARCHAR(255), OBSOLETE BOOLEAN, PRIMARY KEY (ID))
CREATE TABLE PL_COMPETITION (ID INTEGER NOT NULL, DEFAULTBUYIN INTEGER, DEFAULTMAXPLAYERS INTEGER, DEFAULTMINPLAYERS INTEGER, DEFAULTTOURNAMENTANNOUNCEMENTLEAD INTEGER, DESCRIPTION VARCHAR(255), ENDDATE DATE, MINIMALATTENDANCE INTEGER, NAME VARCHAR(255), OBSOLETE BOOLEAN, STARTDATE DATE, DEFAULTPRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_TOURNAMENT (ID INTEGER NOT NULL, DEFAULTBUYIN INTEGER, DESCRIPTION VARCHAR(255), MAXPLAYERS INTEGER, MINPLAYERS INTEGER, NAME VARCHAR(255), OBSOLETE BOOLEAN, TOURNAMENTANNOUNCEMENTLEAD INTEGER, TOURNAMENTEND TIMESTAMP, TOURNAMENTSTART TIMESTAMP, COMPETITION_ID INTEGER, DEFAULTPRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_INVITATION (ID INTEGER NOT NULL, OBSOLETE BOOLEAN, ORDINAL INTEGER, REPLY VARCHAR(255), UUID VARCHAR(255), PLAYER_ID INTEGER, TOURNAMENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_INVITATIONEVENT (ID INTEGER NOT NULL, EVENTTIME TIMESTAMP, EVENTTYPE VARCHAR(255), OBSOLETE BOOLEAN, SENT BOOLEAN, INVITATION_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_GAME (ID INTEGER NOT NULL, BUYIN INTEGER, OBSOLETE BOOLEAN, ORDINAL INTEGER, PRIZEMONEYRULESET_ID INTEGER, TOURNAMENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PLAYERINGAME (ID INTEGER NOT NULL, OBSOLETE BOOLEAN, RANK INTEGER, GAME_ID INTEGER, PLAYER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_COMPETITION_PL_PLAYER (pl_Competition_ID INTEGER NOT NULL, players_ID INTEGER NOT NULL, PRIMARY KEY (pl_Competition_ID, players_ID))
ALTER TABLE PL_PRIZEMONEYRULE ADD CONSTRAINT FK_PL_PRIZEMONEYRULE_PRIZEMONEYRULESET_ID FOREIGN KEY (PRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_PRIZEMONEYFORMULA ADD CONSTRAINT FK_PL_PRIZEMONEYFORMULA_PRIZEMONEYRULE_ID FOREIGN KEY (PRIZEMONEYRULE_ID) REFERENCES PL_PRIZEMONEYRULE (ID)
ALTER TABLE PL_COMPETITION ADD CONSTRAINT FK_PL_COMPETITION_DEFAULTPRIZEMONEYRULESET_ID FOREIGN KEY (DEFAULTPRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_TOURNAMENT ADD CONSTRAINT FK_PL_TOURNAMENT_DEFAULTPRIZEMONEYRULESET_ID FOREIGN KEY (DEFAULTPRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_TOURNAMENT ADD CONSTRAINT FK_PL_TOURNAMENT_COMPETITION_ID FOREIGN KEY (COMPETITION_ID) REFERENCES PL_COMPETITION (ID)
ALTER TABLE PL_INVITATION ADD CONSTRAINT FK_PL_INVITATION_TOURNAMENT_ID FOREIGN KEY (TOURNAMENT_ID) REFERENCES PL_TOURNAMENT (ID)
ALTER TABLE PL_INVITATION ADD CONSTRAINT FK_PL_INVITATION_PLAYER_ID FOREIGN KEY (PLAYER_ID) REFERENCES PL_PLAYER (ID)
ALTER TABLE PL_INVITATIONEVENT ADD CONSTRAINT FK_PL_INVITATIONEVENT_INVITATION_ID FOREIGN KEY (INVITATION_ID) REFERENCES PL_INVITATION (ID)
ALTER TABLE PL_GAME ADD CONSTRAINT FK_PL_GAME_TOURNAMENT_ID FOREIGN KEY (TOURNAMENT_ID) REFERENCES PL_TOURNAMENT (ID)
ALTER TABLE PL_GAME ADD CONSTRAINT FK_PL_GAME_PRIZEMONEYRULESET_ID FOREIGN KEY (PRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_PLAYERINGAME ADD CONSTRAINT FK_PL_PLAYERINGAME_PLAYER_ID FOREIGN KEY (PLAYER_ID) REFERENCES PL_PLAYER (ID)
ALTER TABLE PL_PLAYERINGAME ADD CONSTRAINT FK_PL_PLAYERINGAME_GAME_ID FOREIGN KEY (GAME_ID) REFERENCES PL_GAME (ID)
ALTER TABLE PL_COMPETITION_PL_PLAYER ADD CONSTRAINT FK_PL_COMPETITION_PL_PLAYER_pl_Competition_ID FOREIGN KEY (pl_Competition_ID) REFERENCES PL_COMPETITION (ID)
ALTER TABLE PL_COMPETITION_PL_PLAYER ADD CONSTRAINT FK_PL_COMPETITION_PL_PLAYER_players_ID FOREIGN KEY (players_ID) REFERENCES PL_PLAYER (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
