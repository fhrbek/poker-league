CREATE TABLE PL_DATAVERSION (ID INTEGER NOT NULL, CURRENTVERSION DATETIME, PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYRULESET (ID INTEGER NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255), OBSOLETE TINYINT(1) default 0, PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYRULE (ID INTEGER NOT NULL, NUMBEROFPLAYERS INTEGER, OBSOLETE TINYINT(1) default 0, PRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PRIZEMONEYFORMULA (ID INTEGER NOT NULL, OBSOLETE TINYINT(1) default 0, RANK INTEGER, RELATIVEPRIZEMONEY INTEGER, PRIZEMONEYRULE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PLAYER (ID INTEGER NOT NULL, ACTIVE TINYINT(1) default 0, EMAILADDRESS VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), NICK VARCHAR(255), OBSOLETE TINYINT(1) default 0, PRIMARY KEY (ID))
CREATE TABLE PL_COMPETITION (ID INTEGER NOT NULL, DEFAULTBUYIN INTEGER, DEFAULTMAXPLAYERS INTEGER, DEFAULTMINPLAYERS INTEGER, DEFAULTTOURNAMENTDEADLINE INTEGER, DESCRIPTION VARCHAR(255), ENDDATE DATE, NAME VARCHAR(255), OBSOLETE TINYINT(1) default 0, STARTDATE DATE, DEFAULTPRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_TOURNAMENT (ID INTEGER NOT NULL, DEADLINE INTEGER, DEFAULTBUYIN INTEGER, DESCRIPTION VARCHAR(255), MAXPLAYERS INTEGER, MINPLAYERS INTEGER, NAME VARCHAR(255), OBSOLETE TINYINT(1) default 0, TOURNAMENTSTART DATETIME, TOURNAMENTEND DATETIME, COMPETITION_ID INTEGER, DEFAULTPRIZEMONEYRULESET_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_INVITATION (ID INTEGER NOT NULL, OBSOLETE TINYINT(1) default 0, ORDINAL INTEGER, REPLY VARCHAR(255), PLAYER_ID INTEGER, TOURNAMENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_GAME (ID INTEGER NOT NULL, BUYIN INTEGER, OBSOLETE TINYINT(1) default 0, ORDINAL INTEGER, PRIZEMONEYRULESET_ID INTEGER, TOURNAMENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_PLAYERINGAME (ID INTEGER NOT NULL, OBSOLETE TINYINT(1) default 0, RANK INTEGER, GAME_ID INTEGER, PLAYER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PL_COMPETITION_PL_PLAYER (pl_Competition_ID INTEGER NOT NULL, players_ID INTEGER NOT NULL, PRIMARY KEY (pl_Competition_ID, players_ID))
ALTER TABLE PL_PRIZEMONEYRULE ADD CONSTRAINT FK_PL_PRIZEMONEYRULE_PRIZEMONEYRULESET_ID FOREIGN KEY (PRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_PRIZEMONEYFORMULA ADD CONSTRAINT FK_PL_PRIZEMONEYFORMULA_PRIZEMONEYRULE_ID FOREIGN KEY (PRIZEMONEYRULE_ID) REFERENCES PL_PRIZEMONEYRULE (ID)
ALTER TABLE PL_COMPETITION ADD CONSTRAINT FK_PL_COMPETITION_DEFAULTPRIZEMONEYRULESET_ID FOREIGN KEY (DEFAULTPRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_TOURNAMENT ADD CONSTRAINT FK_PL_TOURNAMENT_DEFAULTPRIZEMONEYRULESET_ID FOREIGN KEY (DEFAULTPRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_TOURNAMENT ADD CONSTRAINT FK_PL_TOURNAMENT_COMPETITION_ID FOREIGN KEY (COMPETITION_ID) REFERENCES PL_COMPETITION (ID)
ALTER TABLE PL_INVITATION ADD CONSTRAINT FK_PL_INVITATION_TOURNAMENT_ID FOREIGN KEY (TOURNAMENT_ID) REFERENCES PL_TOURNAMENT (ID)
ALTER TABLE PL_INVITATION ADD CONSTRAINT FK_PL_INVITATION_PLAYER_ID FOREIGN KEY (PLAYER_ID) REFERENCES PL_PLAYER (ID)
ALTER TABLE PL_GAME ADD CONSTRAINT FK_PL_GAME_TOURNAMENT_ID FOREIGN KEY (TOURNAMENT_ID) REFERENCES PL_TOURNAMENT (ID)
ALTER TABLE PL_GAME ADD CONSTRAINT FK_PL_GAME_PRIZEMONEYRULESET_ID FOREIGN KEY (PRIZEMONEYRULESET_ID) REFERENCES PL_PRIZEMONEYRULESET (ID)
ALTER TABLE PL_PLAYERINGAME ADD CONSTRAINT FK_PL_PLAYERINGAME_PLAYER_ID FOREIGN KEY (PLAYER_ID) REFERENCES PL_PLAYER (ID)
ALTER TABLE PL_PLAYERINGAME ADD CONSTRAINT FK_PL_PLAYERINGAME_GAME_ID FOREIGN KEY (GAME_ID) REFERENCES PL_GAME (ID)
ALTER TABLE PL_COMPETITION_PL_PLAYER ADD CONSTRAINT FK_PL_COMPETITION_PL_PLAYER_pl_Competition_ID FOREIGN KEY (pl_Competition_ID) REFERENCES PL_COMPETITION (ID)
ALTER TABLE PL_COMPETITION_PL_PLAYER ADD CONSTRAINT FK_PL_COMPETITION_PL_PLAYER_players_ID FOREIGN KEY (players_ID) REFERENCES PL_PLAYER (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
